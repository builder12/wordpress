!function(P,e){"use strict";var n={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,i){},onAfterSlide:function(e,i){},onBeforeNextSlide:function(e,i){},onBeforePrevSlide:function(e,i){}};P.fn.lightSlider=function(e){if(0===this.length)return this;if(1<this.length)return this.each(function(){P(this).lightSlider(e)}),this;var t={},c=P.extend(!0,{},n,e),l={},u=this;t.$el=this,"fade"===c.mode&&(c.vertical=!1);var d=u.children(),a=P(window).width(),s=null,o=null,f=0,h=0,i=!1,g=0,v="",p=0,m=!0===c.vertical?"height":"width",S=!0===c.vertical?"margin-bottom":"margin-right",b=0,C=0,M=0,T=0,r=null,x="ontouchstart"in document.documentElement,w={chbreakpoint:function(){if(a=P(window).width(),c.responsive.length){var e;if(!1===c.autoWidth&&(e=c.item),a<c.responsive[0].breakpoint)for(var i=0;i<c.responsive.length;i++)a<c.responsive[i].breakpoint&&(s=c.responsive[i].breakpoint,o=c.responsive[i]);if(null!=o)for(var t in o.settings)o.settings.hasOwnProperty(t)&&(void 0!==l[t]&&null!==l[t]||(l[t]=c[t]),c[t]=o.settings[t]);if(!P.isEmptyObject(l)&&a>c.responsive[0].breakpoint)for(var n in l)l.hasOwnProperty(n)&&(c[n]=l[n]);!1===c.autoWidth&&0<b&&0<M&&e!==c.item&&(p=Math.round(b/((M+c.slideMargin)*c.slideMove)))}},calSW:function(){!1===c.autoWidth&&(M=(g-(c.item*c.slideMargin-c.slideMargin))/c.item)},calWidth:function(e){var i=!0===e?v.find(".lslide").length:d.length;if(!1===c.autoWidth)h=i*(M+c.slideMargin);else for(var t=h=0;t<i;t++)h+=parseInt(d.eq(t).width())+c.slideMargin;return h}};return(t={doCss:function(){var e=function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],i=document.documentElement,t=0;t<e.length;t++)if(e[t]in i.style)return!0};return!(!c.useCSS||!e())},keyPress:function(){c.keyPress&&P(document).on("keyup.lightslider",function(e){P(":focus").is("input, textarea")||(e.preventDefault?e.preventDefault():e.returnValue=!1,37===e.keyCode?u.goToPrevSlide():39===e.keyCode&&u.goToNextSlide())})},controls:function(){c.controls&&(u.after('<div class="lSAction"><a class="lSPrev">'+c.prevHtml+'</a><a class="lSNext">'+c.nextHtml+"</a></div>"),c.autoWidth?w.calWidth(!1)<g&&v.find(".lSAction").hide():f<=c.item&&v.find(".lSAction").hide(),v.find(".lSAction a").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,"lSPrev"===P(this).attr("class")?u.goToPrevSlide():u.goToNextSlide(),!1}))},initialStyle:function(){var r=this;"fade"===c.mode&&(c.autoWidth=!1,c.slideEndAnimation=!1),c.auto&&(c.slideEndAnimation=!1),c.autoWidth&&(c.slideMove=1,c.item=1),c.loop&&(c.slideMove=1,c.freeMove=!1),c.onBeforeStart.call(this,u),w.chbreakpoint(),u.addClass("lightSlider").wrap('<div class="lSSlideOuter '+c.addClass+'"><div class="lSSlideWrapper"></div></div>'),v=u.parent(".lSSlideWrapper"),!0===c.rtl&&v.parent().addClass("lSrtl"),c.vertical?(v.parent().addClass("vertical"),g=c.verticalHeight,v.css("height",g+"px")):g=u.outerWidth(),d.addClass("lslide"),!0===c.loop&&"slide"===c.mode&&(w.calSW(),w.clone=function(){if(w.calWidth(!0)>g){for(var e=0,i=0,t=0;t<d.length&&(i++,!((e+=parseInt(u.find(".lslide").eq(t).width())+c.slideMargin)>=g+c.slideMargin));t++);var n=!0===c.autoWidth?i:c.item;if(n<u.find(".clone.left").length)for(var l=0;l<u.find(".clone.left").length-n;l++)d.eq(l).remove();if(n<u.find(".clone.right").length)for(var a=d.length-1;a>d.length-1-u.find(".clone.right").length;a--)p--,d.eq(a).remove();for(var s=u.find(".clone.right").length;s<n;s++)u.find(".lslide").eq(s).clone().removeClass("lslide").addClass("clone right").appendTo(u),p++;for(var o=u.find(".lslide").length-u.find(".clone.left").length;o>u.find(".lslide").length-n;o--)u.find(".lslide").eq(o-1).clone().removeClass("lslide").addClass("clone left").prependTo(u);d=u.children()}else d.hasClass("clone")&&(u.find(".clone").remove(),r.move(u,0))},w.clone()),w.sSW=function(){f=d.length,!0===c.rtl&&!1===c.vertical&&(S="margin-left"),!1===c.autoWidth&&d.css(m,M+"px"),d.css(S,c.slideMargin+"px"),h=w.calWidth(!1),u.css(m,h+"px"),!0===c.loop&&"slide"===c.mode&&!1===i&&(p=u.find(".clone.left").length)},w.calL=function(){d=u.children(),f=d.length},this.doCss()&&v.addClass("usingCss"),w.calL(),"slide"===c.mode?(w.calSW(),w.sSW(),!0===c.loop&&(b=r.slideValue(),this.move(u,b)),!1===c.vertical&&this.setHeight(u,!1)):(this.setHeight(u,!0),u.addClass("lSFade"),this.doCss()||(d.fadeOut(0),d.eq(p).fadeIn(0))),!0===c.loop&&"slide"===c.mode?d.eq(p).addClass("active"):d.first().addClass("active")},pager:function(){var d=this;if(w.createPager=function(){T=(g-(c.thumbItem*c.thumbMargin-c.thumbMargin))/c.thumbItem;var e=v.find(".lslide"),i=v.find(".lslide").length,t=0,n="",l=0;for(t=0;t<i;t++){"slide"===c.mode&&(c.autoWidth?l+=(parseInt(e.eq(t).width())+c.slideMargin)*c.slideMove:l=t*((M+c.slideMargin)*c.slideMove));var a=e.eq(t*c.slideMove).attr("data-thumb");if(!0===c.gallery?n+='<li style="width:100%;'+m+":"+T+"px;"+S+":"+c.thumbMargin+'px"><a href="#"><img src="'+a+'" /></a></li>':n+='<li><a href="#">'+(t+1)+"</a></li>","slide"===c.mode&&l>=h-g-c.slideMargin){t+=1;var s=2;c.autoWidth&&(n+='<li><a href="#">'+(t+1)+"</a></li>",s=1),t<s?(n=null,v.parent().addClass("noPager")):v.parent().removeClass("noPager");break}}var o=v.parent();o.find(".lSPager").html(n),!0===c.gallery&&(!0===c.vertical&&o.find(".lSPager").css("width",c.vThumbWidth+"px"),C=t*(c.thumbMargin+T)+.5,o.find(".lSPager").css({property:C+"px","transition-duration":c.speed+"ms"}),!0===c.vertical&&v.parent().css("padding-right",c.vThumbWidth+c.galleryMargin+"px"),o.find(".lSPager").css(m,C+"px"));var r=o.find(".lSPager").find("li");r.first().addClass("active"),r.on("click",function(){return!0===c.loop&&"slide"===c.mode?p+=r.index(this)-o.find(".lSPager").find("li.active").index():p=r.index(this),u.mode(!1),!0===c.gallery&&d.slideThumb(),!1})},c.pager){var e="lSpg";c.gallery&&(e="lSGallery"),v.after('<ul class="lSPager '+e+'"></ul>');var i=c.vertical?"margin-left":"margin-top";v.parent().find(".lSPager").css(i,c.galleryMargin+"px"),w.createPager()}setTimeout(function(){w.init()},0)},setHeight:function(n,l){var a=null,e=this;a=c.loop?n.children(".lslide ").first():n.children().first();var i=function(){var e=a.outerHeight(),i=0,t=e;l&&(e=0,i=100*t/g),n.css({height:e+"px","padding-bottom":i+"%"})};i(),a.find("img").length?a.find("img")[0].complete?(i(),r||e.auto()):a.find("img").load(function(){setTimeout(function(){i(),r||e.auto()},100)}):r||e.auto()},active:function(e,i){this.doCss()&&"fade"===c.mode&&v.addClass("on");var t=0,n,l;p*c.slideMove<f?(e.removeClass("active"),this.doCss()||"fade"!==c.mode||!1!==i||e.fadeOut(c.speed),t=!0===i?p:p*c.slideMove,!0===i&&(l=(n=e.length)-1,n<=t+1&&(t=l)),!0===c.loop&&"slide"===c.mode&&(t=!0===i?p-u.find(".clone.left").length:p*c.slideMove,!0===i&&(l=(n=e.length)-1,t+1===n?t=l:n<t+1&&(t=0))),this.doCss()||"fade"!==c.mode||!1!==i||e.eq(t).fadeIn(c.speed),e.eq(t).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==c.mode||!1!==i||(e.fadeOut(c.speed),e.eq(t).fadeIn(c.speed)))},move:function(e,i){!0===c.rtl&&(i=-i),this.doCss()?!0===c.vertical?e.css({transform:"translate3d(0px, "+-i+"px, 0px)","-webkit-transform":"translate3d(0px, "+-i+"px, 0px)"}):e.css({transform:"translate3d("+-i+"px, 0px, 0px)","-webkit-transform":"translate3d("+-i+"px, 0px, 0px)"}):!0===c.vertical?e.css("position","relative").animate({top:-i+"px"},c.speed,c.easing):e.css("position","relative").animate({left:-i+"px"},c.speed,c.easing);var t=v.parent().find(".lSPager").find("li");this.active(t,!0)},fade:function(){this.active(d,!1);var e=v.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;w.calSlide=function(){g<h&&(b=e.slideValue(),e.active(d,!1),b>h-g-c.slideMargin?b=h-g-c.slideMargin:b<0&&(b=0),e.move(u,b),!0===c.loop&&"slide"===c.mode&&(p>=f-u.find(".clone.left").length/c.slideMove&&e.resetSlide(u.find(".clone.left").length),0===p&&e.resetSlide(v.find(".lslide").length)))},w.calSlide()},resetSlide:function(e){var i=this;v.find(".lSAction a").addClass("disabled"),setTimeout(function(){p=e,v.css("transition-duration","0ms"),b=i.slideValue(),i.active(d,!1),t.move(u,b),setTimeout(function(){v.css("transition-duration",c.speed+"ms"),v.find(".lSAction a").removeClass("disabled")},50)},c.speed+100)},slideValue:function(){var e=0;if(!1===c.autoWidth)e=p*((M+c.slideMargin)*c.slideMove);else for(var i=e=0;i<p;i++)e+=parseInt(d.eq(i).width())+c.slideMargin;return e},slideThumb:function(){var e;switch(c.currentPagerPosition){case"left":e=0;break;case"middle":e=g/2-T/2;break;case"right":e=g-T}var i=p-u.find(".clone.left").length,t=v.parent().find(".lSPager");"slide"===c.mode&&!0===c.loop&&(i>=t.children().length?i=0:i<0&&(i=t.children().length));var n=i*(T+c.thumbMargin)-e;C<n+g&&(n=C-g-c.thumbMargin),n<0&&(n=0),this.move(t,n)},auto:function(){c.auto&&(clearInterval(r),r=setInterval(function(){u.goToNextSlide()},c.pause))},pauseOnHover:function(){var e=this;c.auto&&c.pauseOnHover&&(v.on("mouseenter",function(){P(this).addClass("ls-hover"),u.pause(),c.auto=!0}),v.on("mouseleave",function(){P(this).removeClass("ls-hover"),v.find(".lightSlider").hasClass("lsGrabbing")||e.auto()}))},touchMove:function(e,i){if(v.css("transition-duration","0ms"),"slide"===c.mode){var t,n=b-(e-i);if(n>=h-g-c.slideMargin)if(!1===c.freeMove)n=h-g-c.slideMargin;else{var l=h-g-c.slideMargin;n=l+(n-l)/5}else n<0&&(!1===c.freeMove?n=0:n/=5);this.move(u,n)}},touchEnd:function(e){if(v.css("transition-duration",c.speed+"ms"),"slide"===c.mode){var a=!1,i=!0;(b-=e)>h-g-c.slideMargin?(b=h-g-c.slideMargin,!1===c.autoWidth&&(a=!0)):b<0&&(b=0);var t=function(e){var i=0;if(a||e&&(i=1),c.autoWidth)for(var t=0,n=0;n<d.length&&(t+=parseInt(d.eq(n).width())+c.slideMargin,p=n+i,!(b<=t));n++);else{var l=b/((M+c.slideMargin)*c.slideMove);p=parseInt(l)+i,b>=h-g-c.slideMargin&&l%1!=0&&p++}};e>=c.swipeThreshold?(t(!1),i=!1):e<=-c.swipeThreshold&&(t(!0),i=!1),u.mode(i),this.slideThumb()}else e>=c.swipeThreshold?u.goToPrevSlide():e<=-c.swipeThreshold&&u.goToNextSlide()},enableDrag:function(){var t=this;if(!x){var n=0,l=0,a=!1;v.find(".lightSlider").addClass("lsGrab"),v.on("mousedown",function(e){if(h<g&&0!==h)return!1;"lSPrev"!==P(e.target).attr("class")&&"lSNext"!==P(e.target).attr("class")&&(n=!0===c.vertical?e.pageY:e.pageX,a=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,v.scrollLeft+=1,v.scrollLeft-=1,v.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(r))}),P(window).on("mousemove",function(e){a&&(l=!0===c.vertical?e.pageY:e.pageX,t.touchMove(l,n))}),P(window).on("mouseup",function(e){if(a){v.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab");var i=(l=!(a=!1)===c.vertical?e.pageY:e.pageX)-n;Math.abs(i)>=c.swipeThreshold&&P(window).on("click.ls",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation(),e.stopPropagation(),P(window).off("click.ls")}),t.touchEnd(i)}})}},enableTouch:function(){var l=this;if(x){var a={},s={};v.on("touchstart",function(e){s=e.originalEvent.targetTouches[0],a.pageX=e.originalEvent.targetTouches[0].pageX,a.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(r)}),v.on("touchmove",function(e){if(h<g&&0!==h)return!1;var i=e.originalEvent;s=i.targetTouches[0];var t=Math.abs(s.pageX-a.pageX),n=Math.abs(s.pageY-a.pageY);!0===c.vertical?(t<3*n&&e.preventDefault(),l.touchMove(s.pageY,a.pageY)):(n<3*t&&e.preventDefault(),l.touchMove(s.pageX,a.pageX))}),v.on("touchend",function(){if(h<g&&0!==h)return!1;var e;e=!0===c.vertical?s.pageY-a.pageY:s.pageX-a.pageX,l.touchEnd(e)})}},build:function(){var e=this;e.initialStyle(),this.doCss()&&(!0===c.enableTouch&&e.enableTouch(),!0===c.enableDrag&&e.enableDrag()),P(window).on("focus",function(){e.auto()}),P(window).on("blur",function(){clearInterval(r)}),e.pager(),e.pauseOnHover(),e.controls(),e.keyPress()}}).build(),w.init=function(){w.chbreakpoint(),!0===c.vertical?(g=1<c.item?c.verticalHeight:d.outerHeight(),v.css("height",g+"px")):g=v.outerWidth(),!0===c.loop&&"slide"===c.mode&&w.clone(),w.calL(),"slide"===c.mode&&u.removeClass("lSSlide"),"slide"===c.mode&&(w.calSW(),w.sSW()),setTimeout(function(){"slide"===c.mode&&u.addClass("lSSlide")},1e3),c.pager&&w.createPager(),!0===c.adaptiveHeight&&!1===c.vertical&&u.css("height",d.eq(p).outerHeight(!0)),!1===c.adaptiveHeight&&("slide"===c.mode?!1===c.vertical?t.setHeight(u,!1):t.auto():t.setHeight(u,!0)),!0===c.gallery&&t.slideThumb(),"slide"===c.mode&&t.slide(),!1===c.autoWidth?d.length<=c.item?v.find(".lSAction").hide():v.find(".lSAction").show():w.calWidth(!1)<g&&0!==h?v.find(".lSAction").hide():v.find(".lSAction").show()},u.goToPrevSlide=function(){if(0<p)c.onBeforePrevSlide.call(this,u,p),p--,u.mode(!1),!0===c.gallery&&t.slideThumb();else if(!0===c.loop){var e;if(c.onBeforePrevSlide.call(this,u,p),"fade"===c.mode)p=parseInt((f-1)/c.slideMove);u.mode(!1),!0===c.gallery&&t.slideThumb()}else!0===c.slideEndAnimation&&(u.addClass("leftEnd"),setTimeout(function(){u.removeClass("leftEnd")},400))},u.goToNextSlide=function(){var e=!0,i;"slide"===c.mode&&(e=t.slideValue()<h-g-c.slideMargin);p*c.slideMove<f-c.slideMove&&e?(c.onBeforeNextSlide.call(this,u,p),p++,u.mode(!1),!0===c.gallery&&t.slideThumb()):!0===c.loop?(c.onBeforeNextSlide.call(this,u,p),p=0,u.mode(!1),!0===c.gallery&&t.slideThumb()):!0===c.slideEndAnimation&&(u.addClass("rightEnd"),setTimeout(function(){u.removeClass("rightEnd")},400))},u.mode=function(e){!0===c.adaptiveHeight&&!1===c.vertical&&u.css("height",d.eq(p).outerHeight(!0)),!1===i&&("slide"===c.mode?t.doCss()&&(u.addClass("lSSlide"),""!==c.speed&&v.css("transition-duration",c.speed+"ms"),""!==c.cssEasing&&v.css("transition-timing-function",c.cssEasing)):t.doCss()&&(""!==c.speed&&u.css("transition-duration",c.speed+"ms"),""!==c.cssEasing&&u.css("transition-timing-function",c.cssEasing))),e||c.onBeforeSlide.call(this,u,p),"slide"===c.mode?t.slide():t.fade(),v.hasClass("ls-hover")||t.auto(),setTimeout(function(){e||c.onAfterSlide.call(this,u,p)},c.speed),i=!0},u.play=function(){u.goToNextSlide(),c.auto=!0,t.auto()},u.pause=function(){c.auto=!1,clearInterval(r)},u.refresh=function(){w.init()},u.getCurrentSlideCount=function(){var e=p;if(c.loop){var i=v.find(".lslide").length,t=u.find(".clone.left").length;e=p<=t-1?i+(p-t):i+t<=p?p-i-t:p-t}return e+1},u.getTotalSlideCount=function(){return v.find(".lslide").length},u.goToSlide=function(e){p=c.loop?e+u.find(".clone.left").length-1:e,u.mode(!1),!0===c.gallery&&t.slideThumb()},u.destroy=function(){u.lightSlider&&(u.goToPrevSlide=function(){},u.goToNextSlide=function(){},u.mode=function(){},u.play=function(){},u.pause=function(){},u.refresh=function(){},u.getCurrentSlideCount=function(){},u.getTotalSlideCount=function(){},u.goToSlide=function(){},u.lightSlider=null,w={init:function(){}},u.parent().parent().find(".lSAction, .lSPager").remove(),u.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),u.children().removeAttr("style"),d.removeClass("lslide active"),u.find(".clone").remove(),r=d=null,i=!1,p=0)},setTimeout(function(){c.onSliderLoad.call(this,u)},10),P(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,w.init()},200)}),this}}(jQuery);
//# sourceMappingURL=lightslider-min.js.map