jQuery((function(t){var e,a,n,r,i,o,l=(a=("https:"==location.protocol?"https:":"http:")+"//formoid.net/api/push",n=8==(e=(/MSIE (\d+)\./.exec(navigator.userAgent)||[0,0])[1])||9==e&&"file:"!=location.protocol?function(e,a){var n=new XDomainRequest,r=t.Deferred();return n.open(a.type,e),n.onload=function(){r.resolve(this.responseText)},n.onerror=function(){r.reject()},n.send(a.data),r}:(t.support.cors=!0,t.ajax),r=function(t,e){return t="__"+t+"__",e.length?(this[t]=e[0],this):this[t]},i=function(e,a,n){return t.each(n,(function(t,n){e[n]=function(){return a[n].apply(a,arguments)}})),e},(o=function(t){t=t||{},this.__email__=t.email||"",this.__title__=t.title||"",this.__data__=t.data||[]}).prototype.email=function(t){return r.call(this,"email",arguments)},o.prototype.title=function(t){return r.call(this,"title",arguments)},o.prototype.data=function(t){return r.call(this,"data",arguments)},o.prototype.send=function(e,r){var o=i(t.Deferred(),this,["email","title","data","send"]);return r&&(r.call(this,o),"pending"!=o.state())?o:(n(a,{type:"POST",data:JSON.stringify({email:this.__email__,form:{title:this.__title__,data:arguments.length?e:this.__data__}})}).done((function(t){try{var e=JSON.parse(t);e.error?o.reject(e.error):o.resolve(e.response)}catch(t){o.reject("Incorrect server response.")}})).fail((function(){var t="Failed to query the server. ";"onLine"in navigator&&!navigator.onLine?t+="No connection to the Internet.":t+="Check the connection and try again.",o.reject(t)})),o)},{Form:function(t){return new o(t)}});t('[data-form-type="formoid"]').each((function(){var e,a=t(this),n=a.is("form")?a:a.find("form"),r=a.find("[data-form-alert]"),i=a.is("[data-form-title]")?a:a.find("[data-form-title]"),o=a.find('[type="submit"]'),s=r.html();o.click((function(){n.addClass("form-active")})),n.submit((function(d){if(d.preventDefault(),n.addClass("form-active"),!o.hasClass("btn-loading")){var c=!0,f=[];e=e||l.Form({email:a.find("[data-form-email]").val(),title:i.attr("data-form-title")||i.text()}),r.html(""),a.find("[data-form-field]").each((function(){(function(e){if(e.checkValidity)return e.checkValidity();var a=!0,n=t(e).val(),r=t(e).attr("type");return n?a=!("email"===r&&!/^([^@]+?)@(([a-z0-9]-*)*[a-z0-9]+\.)+([a-z0-9]+)$/i.test(n)):t(e).attr("required")&&(a=!1),t(e)[(a?"remove":"add")+"Class"]("form-invalid"),a})(this)||(c=!1),f.push([t(this).attr("data-form-field")||t(this).attr("name"),t(this).val()])})),c&&(o.addClass("btn-loading").prop("disabled",!0),e.send(f).done((function(e){n.removeClass("form-active"),a.find("[data-form-field]").val(""),r.removeAttr("hidden"),r.append(t('<div class="alert alert-form alert-success text-xs-center"/>').text(s||e))})).fail((function(e){r.append(t('<div class="alert alert-form alert-danger text-xs-center"/>').text(e))})).always((function(){o.removeClass("btn-loading").prop("disabled",!1)})))}}))}))}));